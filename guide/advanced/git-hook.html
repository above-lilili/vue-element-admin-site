<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Git Hooks | vue-element-admin</title>
    <meta name="description" content="A magical vue admin">
    <link rel="icon" href="/vue-element-admin-site/favicon.ico">
    
    <link rel="preload" href="/vue-element-admin-site/assets/css/0.styles.695f6c1a.css" as="style"><link rel="preload" href="/vue-element-admin-site/assets/js/app.8f4229c4.js" as="script"><link rel="preload" href="/vue-element-admin-site/assets/js/11.ddc27609.js" as="script"><link rel="prefetch" href="/vue-element-admin-site/assets/js/29.b1761a50.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/2.7f0226ec.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/3.a6b161ba.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/4.d2f26361.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/5.73a28b84.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/6.7798a12a.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/7.2544b5f5.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/8.e4f61acc.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/9.89ae9f3c.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/10.969e96dc.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/12.913e543b.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/13.7d3f32d4.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/14.1ad51c7d.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/15.4bfad884.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/16.e1f90519.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/17.68bb01dd.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/18.5d7f254c.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/19.e6da448c.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/20.4192685a.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/21.3313afb2.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/22.7b56a05f.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/23.67965966.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/24.6414b195.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/25.ac6f08fa.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/26.76acbca3.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/27.d38a550b.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/28.b6165497.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/30.33983e65.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/31.1f2ad5e5.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/32.5c8e849f.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/33.152c9109.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/34.730eed36.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/35.c4d422cb.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/36.040683d1.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/37.caf58592.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/38.e6b03315.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/39.db7a2e1d.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/40.926f97c8.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/41.25146007.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/42.316f6346.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/43.5fdd3353.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/44.daca08af.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/45.dac27c5d.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/46.6480992d.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/47.0ef697f6.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/48.26e41629.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/49.08b469c7.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/50.210c4468.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/51.6e9c41bc.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/52.d1fd4add.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/53.b173093a.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/54.e8c340f5.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/55.18f3dce6.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/56.d4379d68.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/57.c1954031.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/58.6c6e4d83.js"><link rel="prefetch" href="/vue-element-admin-site/assets/js/vendors~docsearch.d440df3b.js">
    <link rel="stylesheet" href="/vue-element-admin-site/assets/css/0.styles.695f6c1a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/vue-element-admin-site/" class="home-link router-link-active"><!----><span class="site-name">
      vue-element-admin
    </span></a><div class="links"><form id="search-form" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form><nav class="nav-links can-hide"><div class="nav-item"><a href="/vue-element-admin-site/guide/" class="nav-link router-link-active">Guide</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Component</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/vue-element-admin-site/component/rich-editor.html" class="nav-link">Rich Text Editor</a></li><li class="dropdown-item"><!----><a href="/vue-element-admin-site/component/clipboard.html" class="nav-link">Clipboard</a></li></ul></div></div><div class="nav-item"><a href="/vue-element-admin-site/donate/" class="nav-link">Donate</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/vue-element-admin-site/guide/advanced/git-hook.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----><a href="/vue-element-admin-site/zh/guide/advanced/git-hook.html" class="nav-link">简体中文</a></li></ul></div></div><a href="https://github.com/PanJiaChen/vue-element-admin" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vue-element-admin-site/guide/" class="nav-link router-link-active">Guide</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Component</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/vue-element-admin-site/component/rich-editor.html" class="nav-link">Rich Text Editor</a></li><li class="dropdown-item"><!----><a href="/vue-element-admin-site/component/clipboard.html" class="nav-link">Clipboard</a></li></ul></div></div><div class="nav-item"><a href="/vue-element-admin-site/donate/" class="nav-link">Donate</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/vue-element-admin-site/guide/advanced/git-hook.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----><a href="/vue-element-admin-site/zh/guide/advanced/git-hook.html" class="nav-link">简体中文</a></li></ul></div></div><a href="https://github.com/PanJiaChen/vue-element-admin" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><div class="load-success"><div id="codefund_ad"></div></div><ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading"><span>Essentials</span><!----></p><ul class="sidebar-group-items"><li><a href="/vue-element-admin-site/guide/" class="sidebar-link">Introduction</a></li><li><a href="/vue-element-admin-site/guide/essentials/layout.html" class="sidebar-link">Layout</a></li><li><a href="/vue-element-admin-site/guide/essentials/router-and-nav.html" class="sidebar-link">Router and Nav</a></li><li><a href="/vue-element-admin-site/guide/essentials/permission.html" class="sidebar-link">Permission</a></li><li><a href="/vue-element-admin-site/guide/essentials/tags-view.html" class="sidebar-link">Tags View</a></li><li><a href="/vue-element-admin-site/guide/essentials/new-page.html" class="sidebar-link">New Page</a></li><li><a href="/vue-element-admin-site/guide/essentials/style.html" class="sidebar-link">Style</a></li><li><a href="/vue-element-admin-site/guide/essentials/server.html" class="sidebar-link">Work with Server</a></li><li><a href="/vue-element-admin-site/guide/essentials/mock-api.html" class="sidebar-link">Mock Data</a></li><li><a href="/vue-element-admin-site/guide/essentials/import.html" class="sidebar-link">Import Third-party Modules</a></li><li><a href="/vue-element-admin-site/guide/essentials/deploy.html" class="sidebar-link">Build &amp; Deploy</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading open"><span>Advanced</span><!----></p><ul class="sidebar-group-items"><li><a href="/vue-element-admin-site/guide/advanced/cors.html" class="sidebar-link">Cors</a></li><li><a href="/vue-element-admin-site/guide/advanced/eslint.html" class="sidebar-link">ESLint</a></li><li><a href="/vue-element-admin-site/guide/advanced/git-hook.html" class="active sidebar-link">Git Hooks</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-element-admin-site/guide/advanced/git-hook.html#husky" class="sidebar-link">husky</a></li><li class="sidebar-sub-header"><a href="/vue-element-admin-site/guide/advanced/git-hook.html#lint-staged" class="sidebar-link">lint-staged</a></li><li class="sidebar-sub-header"><a href="/vue-element-admin-site/guide/advanced/git-hook.html#sumup" class="sidebar-link">SumUp</a></li></ul></li><li><a href="/vue-element-admin-site/guide/advanced/lazy-loading.html" class="sidebar-link">Lazy Loading Routes</a></li><li><a href="/vue-element-admin-site/guide/advanced/chart.html" class="sidebar-link">Chart</a></li><li><a href="/vue-element-admin-site/guide/advanced/icon.html" class="sidebar-link">Icon</a></li><li><a href="/vue-element-admin-site/guide/advanced/theme.html" class="sidebar-link">Theme</a></li><li><a href="/vue-element-admin-site/guide/advanced/i18n.html" class="sidebar-link">I18n</a></li><li><a href="/vue-element-admin-site/guide/advanced/error.html" class="sidebar-link">Error Handling</a></li><li><a href="/vue-element-admin-site/guide/advanced/webpack.html" class="sidebar-link">webpack guide</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Other</span><!----></p><ul class="sidebar-group-items"><li><a href="/vue-element-admin-site/guide/other/gitter.html" class="sidebar-link">Gitter</a></li><li><a href="/vue-element-admin-site/guide/other/release-notes.html" class="sidebar-link">Release Notes</a></li></ul></div></li></ul></div><div class="page"><div class="content"><h1 id="git-hooks"><a href="#git-hooks" aria-hidden="true" class="header-anchor">#</a> Git Hooks</h1><p>Programmers with basic engineering literacy will focus on coding specifications, and Code Linting (Lint) is an important means of ensuring code specification consistency.</p><p>What are the benefits of using Lint? In my opinion, it has at least the following three points:</p><ul><li>Fewer bugs</li><li>With higher development efficiency, Lint can easily find low-level, obvious errors.</li><li>Higher readability</li></ul><p>Many times our <code>lint</code> check is placed in the continuous integration phase.</p><blockquote><p>Push Code --&gt; Run CI find problem(remote) --&gt; Fiexd in local --&gt; Push Again --&gt; Pass CI(remote)</p></blockquote><p>But there is a problem with this. Our <code>CI</code> (continuous integration) often doesn't just do <code>Lint</code> work, it also has many other tasks, which leads to a special waste of time, often it may take a few minutes after you In order to know that there is a problem, or sometimes you have not found that your <code>CI</code> did not pass.</p><p>Common process: write the code locally, submit, start running lint, find the failure to pass, modify the code locally, submit again, wait for the result of CI, and repeat the previous operation if there are any problems.</p><h2 id="husky"><a href="#husky" aria-hidden="true" class="header-anchor">#</a> husky</h2><p>The most effective solution is to put the <code>Lint</code> check locally. The common practice is to use
<a href="https://github.com/typicode/husky" target="_blank" rel="noopener noreferrer">husky<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> or <a href="https://github.com/observing/pre-commit" target="_blank" rel="noopener noreferrer">pre-commit<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> do <code>Lint</code> before committing locally. Here we use <code>husky</code>.</p><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> husky -D -S
</code></pre></div><p>Then modify package.json to add configuration:</p><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;precommit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eslint src/**/*.js&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Finally try Git commit and you will receive feedback soon:</p><div class="language- extra-class"><pre class="language-text"><code>git commit -m &quot;Keep calm and commit&quot;
</code></pre></div><p>But there is a problem. This is that I may only change one file for this commit. For example, I changed the file of <code>foo.js</code>, but it will still check all the <code>.js</code> files under <code>src</code>. Very unfriendly. The problem is that I submitted the code I wrote, but I need to solve the other people code problem before.</p><h2 id="lint-staged"><a href="#lint-staged" aria-hidden="true" class="header-anchor">#</a> lint-staged</h2><p>To solve the above pain points, you need to use <a href="https://github.com/okonet/lint-staged" target="_blank" rel="noopener noreferrer">lint-staged<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. It will only check the parts that you submitted or you modified.</p><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> lint-staged -D -S
</code></pre></div><p>Then, modify the package.json configuration:</p><div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;precommit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;lint-staged&quot;</span>

<span class="token property">&quot;lint-staged&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;src/**/*.{js,vue}&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;eslint --fix&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;git add&quot;</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
</code></pre></div><p>As configured above, Verify that the code you submitted matches the <code>eslint</code>( <a href="/vue-element-admin-site/guide/advanced/eslint.html">ESlint</a> ) rule of your local configuration, before your local <code>commmit</code>. If it is met, the submission is successful. If it doesn't match, it will automatically execute <code>eslint --fix</code> to try to help you fix it automatically. If the repair is successful, it will help you to submit the repaired code. If it fails, it will prompt you have an error, and you will be able to submit the code after you fix it.</p><h2 id="sumup"><a href="#sumup" aria-hidden="true" class="header-anchor">#</a> SumUp</h2><p>The best <code>lint</code> specification process is to recommend team members to configure <code>eslint</code> in their own editor, configure and enable the <code>eslint-loader</code> error in webpack, so the editor can help you fix some simple formatting errors and remind you of some places that don't meet the <code>lint</code> specification. And prompt you for errors on the command line. See the details <a href="/vue-element-admin-site/guide/advanced/eslint.html">ESlint</a>。</p><p>But this is not mandatory. Some team members or newly arrived interns are not configured in the editor or ignore the error in the command line. In this case, you need to configure the mandatory checker of <code>precommit</code> to ensure that All code submitted to the remote repository is team compliant.</p></div><div class="page-edit"><div class="edit-link"><a href="https://github.com/PanJiaChen/vue-element-admin-site/edit/master/docs/guide/advanced/git-hook.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div><!----></div><div class="page-nav"><p class="inner"><span class="prev">
        ← <a href="/vue-element-admin-site/guide/advanced/eslint.html" class="prev">
          ESLint
        </a></span><span class="next"><a href="/vue-element-admin-site/guide/advanced/lazy-loading.html">
          Lazy Loading Routes
        </a> →
      </span></p></div></div></div></div>
    <script src="/vue-element-admin-site/assets/js/11.ddc27609.js" defer></script><script src="/vue-element-admin-site/assets/js/app.8f4229c4.js" defer></script>
  </body>
</html>
